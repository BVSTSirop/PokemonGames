:root{--bg:#0b1021;--bg-soft:#12183a;--card:#0f1631;--text:#f5f7ff;--muted:#c9d0ff;--accent:#ffcc01;--accent-2:#e3350d;--accent-3:#3b4cca;--ok:#34c759;--err:#ff3b30;--shadow:0 8px 24px rgba(16,24,40,.35);--glass:rgba(10,15,35,.65);--glass-border:#27306a}
*{box-sizing:border-box}
html,body{height:100%}
body{font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:linear-gradient(180deg,var(--bg) 0%,#0d1230 100%);color:var(--text);-webkit-font-smoothing:antialiased;min-height:100vh;display:flex;flex-direction:column}

.container{max-width:960px;margin:0 auto;padding:16px}

/* Content area layout */
main.container{padding-top:20px;padding-bottom:28px}
.section{margin:18px 0}
.stack-sm>*+*{margin-top:6px}
.stack-md>*+*{margin-top:12px}
.stack-lg>*+*{margin-top:20px}

.site-header{position:sticky;top:0;z-index:10;background:var(--glass);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-bottom:1px solid var(--glass-border);box-shadow:0 6px 18px rgba(0,0,0,.28)}
.header-inner{display:flex;align-items:center;justify-content:space-between;gap:16px;position:relative}
.brand{display:flex;align-items:center;gap:12px}
.brand h1{font-family:"Luckiest Guy", system-ui; letter-spacing:.8px; font-size:26px; color:#fff; margin:10px 0}
.brand .accent{color:#ffea61}
.pokeball{display:inline-block;width:22px;height:22px;border-radius:50%;background:
  radial-gradient(circle at 50% 50%, #fff 0%, #fff 40%, #000 40%, #000 43%, #e3350d 43%, #e3350d 100%);
  box-shadow:0 0 0 2px #0004}
/* Desktop nav styles */
.site-nav{display:flex;align-items:center;gap:6px}
.site-nav a{position:relative;display:inline-flex;align-items:center;gap:8px;color:#e6e9ff;text-decoration:none;font-weight:700;opacity:1;padding:10px 12px;border-radius:10px;transition:background .2s ease, color .2s ease, transform .06s ease}
.site-nav a:hover{background:rgba(255,255,255,.06);color:#fff}
.site-nav a:active{transform:translateY(1px)}
.site-nav a[aria-current="page"]{background:linear-gradient(90deg, rgba(59,76,202,.35), rgba(91,109,248,.35));color:#fff;border:1px solid #3b4cca}

/* Language and generation switchers */
.lang-switcher{display:flex;align-items:center;gap:8px;position:relative}
.lang-select{appearance:none;background:#151d46;color:#fff;border:1px solid #2b386f;border-radius:10px;padding:8px 10px;font-weight:600;cursor:pointer}
.lang-select:focus{outline:none;border-color:#5b6df8;box-shadow:0 0 0 3px rgba(59,76,202,.35)}

/* Nice dropdown with checkboxes for generations */
.gen-dropdown{position:relative}
.gen-toggle{display:flex;align-items:center;gap:8px;background:#151d46;color:#fff;border:1px solid #2b386f;border-radius:10px;padding:8px 10px;font-weight:700;cursor:pointer;box-shadow:none}
.gen-toggle:hover{filter:brightness(1.08)}
.gen-toggle:focus{outline:none;border-color:#5b6df8;box-shadow:0 0 0 3px rgba(59,76,202,.35)}
.gen-caret{font-size:12px;opacity:.9}
.gen-menu{position:absolute;right:0;top:calc(100% + 6px);min-width:220px;background:#0c1330;border:1px solid #34407f;border-radius:12px;box-shadow:var(--shadow);padding:8px 6px;display:none;z-index:20}
.gen-menu.open{display:block}
.gen-option{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:8px;cursor:pointer;user-select:none}
.gen-option input{accent-color:#5b6df8}
.gen-option:hover{background:#151d46}

/* Disabled state for generation selector (used on Daily mode) */
.gen-toggle[disabled],
.gen-toggle[aria-disabled="true"]{
  opacity:.5;
  cursor:not-allowed;
  filter:none;
}
.gen-toggle[disabled]:hover,
.gen-toggle[aria-disabled="true"]:hover{
  filter:none;
}
.gen-toggle[disabled] .gen-caret,
.gen-toggle[aria-disabled="true"] .gen-caret{
  opacity:.6;
}

/* Footer */
.site-footer{margin-top:32px;border-top:1px solid #2a3566;background:rgba(0,0,0,.25)}
.site-footer p{color:var(--muted);font-size:14px}
.site-footer a{color:#ffea61}

.card{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));border:1px solid #27306a;border-radius:16px;box-shadow:var(--shadow);padding:20px}
.card-ghost{background:transparent;border:1px dashed #2b386f;border-radius:16px}
.panel{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));border:1px solid #27306a;border-radius:14px;box-shadow:var(--shadow);padding:16px}
.panel-glass{background:var(--glass);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid var(--glass-border)}
.divider{height:1px;background:#27306a;border:0;margin:12px 0}
.muted{color:var(--muted)}

/* Headings inside content */
h2{font-size:22px;line-height:1.25;margin:10px 0 8px;font-weight:800;letter-spacing:.2px;color:#ffea61}
h3{font-size:18px;line-height:1.25;margin:10px 0 6px;font-weight:800;color:#e6e9ff}

/* Responsive grid utility */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
.grid.tight{gap:8px}
.grid.loose{gap:16px}
.game{max-width:720px;margin:20px auto}
.game-title{font-family:"Luckiest Guy", system-ui; letter-spacing:.5px; margin:0 0 12px; font-size:24px; color:#ffea61}

/* HUD for score and streak */
.hud{display:flex;gap:16px;align-items:center;justify-content:center;margin:8px 0 4px;color:var(--muted);font-weight:700}
.hud .hud-item{background:#0c1330;border:1px solid #2b386f;border-radius:10px;padding:6px 10px}
.hud strong{color:#ffea61}

/* Sprite frame */
.sprite-frame{position:relative;width:min(100%,360px);aspect-ratio:1/1;height:auto;border-radius:12px;overflow:hidden;margin:12px auto 16px;background:
  linear-gradient(45deg,#1c2252 25%,#27306a 25% 50%,#1c2252 50% 75%,#27306a 75%);
  background-size:32px 32px;border:2px solid #3b4cca}
.sprite-crop{width:100%;height:100%;background-repeat:no-repeat;background-size:500% 500%;background-position:center;filter:contrast(1.05) saturate(1.05);transition:background-size .35s ease, background-position .35s ease}
.pixel-canvas{display:block;width:100%;height:100%}
/* When revealed, we'll animate to show the full sprite via JS (sets background-size to contain) */
.sprite-crop.revealed{ /* styles mainly toggled via inline JS; class is for enabling transitions */ }
/* Disable transitions when this class is present (used during initial load to prevent any reveal) */
.sprite-crop.no-anim{transition:none!important}
.sprite-skeleton{position:absolute;inset:0;background:linear-gradient(90deg,rgba(255,255,255,.06),rgba(255,255,255,.12),rgba(255,255,255,.06));background-size:200% 100%;animation:shimmer 1.2s infinite;opacity:0;transition:opacity .25s ease}
.sprite-frame.loading .sprite-skeleton{opacity:1}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}

/* Guessing input */
.guess-form{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-bottom:8px}
.input-wrap{position:relative;flex:1;min-width:220px}
#guess-input{width:100%;padding:12px 36px 12px 40px;border-radius:12px;border:1px solid #34407f;background:#0c1330;color:var(--text);outline:none;box-shadow:inset 0 0 0 1px rgba(255,255,255,.03)}
#guess-input::placeholder{color:#9aa3e0}
#guess-input:focus{border-color:#5b6df8;box-shadow:0 0 0 3px rgba(59,76,202,.35)}
.input-icon{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#9aa3e0}

/* Suggestions dropdown */
.suggestions{position:absolute;left:0;right:0;top:calc(100% + 6px);background:#0c1330;border:1px solid #34407f;border-radius:12px;box-shadow:var(--shadow);max-height:260px;overflow:auto;padding:6px;display:none;z-index:5}
.suggestions.visible{display:block}
.suggestion-item{padding:8px 10px;border-radius:8px;cursor:pointer;color:var(--text)}
.suggestion-item:hover,.suggestion-item[aria-selected="true"],.suggestion-item.active{background:#151d46}
.suggestions .no-results{color:#9aa3e0;padding:8px 10px}

/* Buttons */
.controls{display:flex;gap:10px;flex-wrap:wrap}
.btn{padding:10px 14px;border-radius:12px;border:1px solid #2b386f;background:#151d46;color:#fff;cursor:pointer;font-weight:600;transition:transform .06s ease, filter .2s ease, background .2s}
.btn:hover{filter:brightness(1.1)}
.btn:active{transform:translateY(1px)}
.btn-primary{background:linear-gradient(90deg,#ffcc01,#ffd942);color:#1b223e;border-color:#caa300}
.btn-accent{background:linear-gradient(90deg,#3b4cca,#5b6df8)}

.feedback{min-height:24px;margin:10px 0;font-weight:800}
.feedback.prominent{font-size:20px; line-height:1.3; padding:10px 12px; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,.25)}
/* Make feedback backgrounds solid and non-transparent for better contrast */
.correct{background:#1e7f33; color:#ffffff; border:1px solid #145523; text-shadow:0 1px 0 rgba(0,0,0,.25)}
.reveal{background:#b38f00; color:#ffffff; border:1px solid #7a6200; text-shadow:0 1px 0 rgba(0,0,0,.25)}
.incorrect{background:#c0261d; color:#ffffff; border:1px solid #7a1612; text-shadow:0 1px 0 rgba(0,0,0,.25)}

/* Generic alerts (non-breaking; optional usage) */
.alert{border-radius:12px;padding:10px 12px;font-weight:800}
.alert-success{background:#1e7f33;color:#fff;border:1px solid #145523}
.alert-warning{background:#b38f00;color:#fff;border:1px solid #7a6200}
.alert-error{background:#c0261d;color:#fff;border:1px solid #7a1612}
.alert-info{background:#24306b;color:#e6e9ff;border:1px solid #2b386f}

/* Hint timeline (horizontal stepper) */
.hint-timeline{margin:10px 0 8px}
.hint-timeline .timeline-track{position:relative;display:flex;align-items:flex-start;justify-content:space-between;gap:8px;padding:8px 6px;background:#0c1330;border:1px solid #2b386f;border-radius:12px}
.hint-timeline .timeline-step{position:relative;display:flex;flex-direction:column;align-items:center;min-width:60px;flex:1 1 0;cursor:pointer}
.hint-timeline .timeline-step .dot{width:12px;height:12px;border-radius:50%;background:#39458a;border:2px solid #2b386f;box-shadow:0 0 0 2px rgba(0,0,0,.15)}
.hint-timeline .timeline-step .label{margin-top:6px;font-weight:800;color:#9aa3e0;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:120px}
.hint-timeline .timeline-step .sub{margin-top:2px;font-size:12px;color:#6f79b8}
.hint-timeline .timeline-step.active .dot{background:#ffcc01;border-color:#caa300;box-shadow:0 0 0 2px rgba(255,204,1,.25)}
.hint-timeline .timeline-step.active .label{color:#ffea61}
.hint-timeline .timeline-step:focus{outline:2px solid #5b6df8; outline-offset:2px; border-radius:10px}
.hint-timeline .timeline-step.revealed .dot{background:#34c759;border-color:#1e7f33;box-shadow:0 0 0 2px rgba(52,199,89,.25)}
.hint-timeline .timeline-step.revealed .label{color:#b8f7c8}
/* Accordion content inside timeline steps */
.hint-timeline .timeline-step .accordion-content{display:none;margin-top:8px;padding:8px 10px;border-radius:10px;background:#0b1130;border:1px solid #27306a;width:100%;max-width:220px;color:var(--text);font-weight:700;text-align:center;pointer-events:auto}
.hint-timeline .timeline-step.open .accordion-content{display:block}
.hint-timeline .timeline-step .accordion-content .silhouette-thumb{width:80px;height:80px;margin:6px auto 0;background-size:contain;background-repeat:no-repeat;background-position:center center;filter:brightness(0) saturate(100%);opacity:.9;border-radius:8px;display:block}
@media (max-width:560px){
  .hint-timeline .timeline-track{gap:4px}
  .hint-timeline .timeline-step .label{font-size:12px;max-width:80px}
}

/* Daily table with colored cells instead of pills */
.table-wrap{overflow:auto; padding:0; border-radius:14px; border:1px solid #27306a; box-shadow:var(--shadow); background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02))}
.daily-table{width:100%; border-collapse:separate; border-spacing:0; table-layout:fixed; max-width:100%}
.daily-table th,.daily-table td{padding:10px 12px; border-right:1px solid #27306a; border-bottom:1px solid #27306a; white-space:normal; overflow-wrap:anywhere; word-break:break-word}
.daily-table thead th{background:linear-gradient(180deg,#0e1740,#0c1330); color:#ffea61; position:sticky; top:0; z-index:1; text-transform:uppercase; letter-spacing:.4px; font-size:12px; line-height:1.2; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; box-shadow:inset 0 -1px 0 rgba(0,0,0,.35)}
.daily-table tbody tr:nth-child(even) td:not(.correct):not(.reveal):not(.incorrect){background:#0e1535}
.daily-table tbody tr:hover td:not(.correct):not(.reveal):not(.incorrect){background:#131b43}
.daily-table td{vertical-align:middle; font-weight:700; color:var(--text); opacity:1; transform:none; transition:background .2s ease, color .2s ease, opacity .28s ease, transform .28s ease}
/* Hidden state for reveal animation */
.daily-table td.cell-hidden{opacity:0; transform:translateY(4px) scale(.98)}
.daily-table td.correct,.daily-table td.reveal,.daily-table td.incorrect{border-right-color:rgba(0,0,0,.25); border-bottom-color:rgba(0,0,0,.25)}
/* Capitalize readable text columns (Pokémon, Type 1, Type 2, Color) */
.daily-table tbody td:nth-child(1),
.daily-table tbody td:nth-child(2),
.daily-table tbody td:nth-child(3),
.daily-table tbody td:nth-child(8){ text-transform:capitalize }
/* Rounded corners for the table by masking first/last cells */
.daily-table thead th:first-child{border-top-left-radius:12px}
.daily-table thead th:last-child{border-top-right-radius:12px}
.daily-table tr:last-child td:first-child{border-bottom-left-radius:12px}
.daily-table tr:last-child td:last-child{border-bottom-right-radius:12px}
/* Column alignment: center numeric-ish columns */
.daily-table td:nth-child(2),
.daily-table td:nth-child(3),
.daily-table td:nth-child(4),
.daily-table td:nth-child(5),
.daily-table td:nth-child(6),
.daily-table td:nth-child(7),
.daily-table td:nth-child(8){text-align:center}
/* Responsive adjustments */
@media (max-width: 640px){
  .daily-table th,.daily-table td{padding:8px 8px}
  .daily-table thead th{font-size:11px}
}

.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}

/* Pokédex entry styling */
.entry-frame{position:relative;width:100%;max-width:720px;margin:16px auto;padding:16px;border-radius:16px;background:linear-gradient(180deg, rgba(227,53,13,.95), rgba(227,53,13,.85));border:2px solid #7a1e0a;box-shadow:0 10px 28px rgba(0,0,0,.4), inset 0 0 0 2px rgba(255,255,255,.08);padding-top:28px}
.entry-frame:before{content:"";position:absolute;left:12px;right:12px;top:10px;height:20px;border-radius:6px;background:linear-gradient(90deg,#8a2310,#cc2f0f,#8a2310);box-shadow:inset 0 1px 0 rgba(255,255,255,.25);z-index:0}
.entry-frame:after{content:"";position:absolute;left:16px;top:16px;width:10px;height:10px;border-radius:50%;background:#d7e5ff;box-shadow:0 0 0 2px #1a2b5e, 18px 0 0 0 #9adf2f, 18px 0 0 2px #315a12;z-index:0}

.entry-text{position:relative;margin:8px auto 8px;padding:16px 18px;border-radius:12px;border:2px solid #1c254d;box-shadow:inset 0 0 0 2px rgba(255,255,255,.05), 0 6px 16px rgba(0,0,0,.25);color:#0b1021;background:
  linear-gradient(180deg,#e9f7ea,#d8f0e0),
  repeating-linear-gradient(0deg, rgba(0,0,0,.06) 0px, rgba(0,0,0,.06) 2px, rgba(255,255,255,.05) 2px, rgba(255,255,255,.05) 4px);
max-height:240px;overflow:auto;line-height:1.5;font-weight:700;z-index:1}
.entry-text::-webkit-scrollbar{height:10px;width:10px}
.entry-text::-webkit-scrollbar-thumb{background:#9bb9a4;border-radius:10px;border:2px solid #d3ead7}
.entry-text::-webkit-scrollbar-track{background:#cde6d3;border-radius:10px}

@media (prefers-reduced-motion: reduce){
  .btn{transition:none}
  .sprite-skeleton{animation:none}
}

/* Content links */
main a{color:#ffea61}
main a:hover{filter:brightness(1.08)}

/* Guessed list */
.guessed-wrap{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin:6px 0 4px}
.guessed-title{color:var(--muted);font-weight:800}
.guessed-list{display:flex;flex-wrap:wrap;gap:6px}
.guessed-chip{background:#151d46;border:1px solid #2b386f;border-radius:999px;padding:4px 10px;color:var(--text);font-weight:700;text-transform:capitalize}

/* Layout: make footer stick to bottom on short pages */
main{flex:1 0 auto}

.menu-toggle{display:none;background:transparent;border:1px solid rgba(255,255,255,.15);color:#fff;font-size:22px;line-height:1;padding:8px 10px;border-radius:10px}
.menu-toggle:focus{outline:2px solid #ffea61;outline-offset:2px}
.mobile-menu{display:flex;align-items:center;gap:16px}
@media (max-width: 768px){
  .menu-toggle{display:inline-flex;align-items:center;justify-content:center}
  .mobile-menu{position:absolute;left:0;right:0;top:100%;background:rgba(12,19,48,.92);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);border-bottom:1px solid var(--glass-border);box-shadow:0 10px 22px rgba(0,0,0,.35);display:none;flex-direction:column;align-items:stretch;padding:12px 16px}
  body.mobile-open .mobile-menu{display:flex}
  .site-nav{display:flex;flex-direction:column;gap:6px}
  .site-nav a{margin:0;padding:12px 10px;border-radius:10px}
  .lang-switcher{justify-content:space-between;flex-wrap:wrap}
}

/* --- Scream audio UI --- */
.audio-frame{max-width:720px;margin:14px auto 16px}
.audio-ui{display:flex;align-items:center;gap:12px;background:#0c1330;border:1px solid #2b386f;border-radius:14px;padding:10px 12px;box-shadow:var(--shadow)}
.audio-play{width:44px;height:44px;border-radius:50%;border:2px solid #5b6df8;background:linear-gradient(180deg,#3b4cca,#5b6df8);color:#fff;font-weight:800;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 6px 14px rgba(0,0,0,.25)}
.audio-play:hover{filter:brightness(1.06)}
 .audio-visual{position:relative;flex:1;min-width:120px;height:56px;border-radius:10px;background:linear-gradient(180deg,#0e1740,#0b112e);border:1px solid #1c254d;overflow:hidden;cursor:pointer}
 .audio-visual canvas{display:block;width:100%;height:100%}
@media (max-width:560px){
  .audio-ui{flex-wrap:wrap}
  .audio-visual{order:2;width:calc(100% - 60px)}
}
